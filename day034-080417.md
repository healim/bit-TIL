request map으로 관리

prameter랑은 다른 map임



request와 attribute



getParameter 쿼리 스트링 필요



```java
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8" trimDirectiveWhitespaces="true" %> <!-- 지시어때문에 생긴 공백 삭제해줌 trimDirectiveWhitespaces -->
```

BOM 안 알려주면 페이지 디렉티브\(위에 있는 코드 부분\)에 있는 pageEncoding -&gt; charset \(우선순위\) 인코딩

= 웹 컨테이너\(톰캣\)이 페이지 읽어올 때 인코딩 뭘로 할거냐 

---

#### request의 getParameter, setAttribute 차이

```java
<body>
<%
	// request의 setAttribute
	request.setAttribute("KEY", "VALUE");
	request.setAttribute("name", "홍길동");
	request.setAttribute("age", 27);
	
%>
<h1>Expression Language</h1>
<ul>
	<li><%= request.getAttribute("KEY") %></li>
	<li><%= request.getAttribute("name") %></li>
	<li><%= request.getAttribute("age") %></li>
	<li>${KEY}</li>
	<li>${name}</li>
	<li>${age}</li>
	<li><%= request.getParameter("name") %></li>
	<li><%= request.getParameter("age") %></li>
	<li>${param.name}</li> <!-- param = getParameter -->
	<li>${param.age}</li>
</ul>
</body>
```

#### 실행 결과

![](/assets/03401import.png)

-&gt; 아 이런거라 간단한 검색도 만들 수 있다고 하신거구나

getAttribute가 동작하는 방식

요청 보내면\(여기선 url\) -&gt; 내용이 웹서버에 저장되고 -&gt; 그 저장된\(임시\) 내용을 가져와서 웹 페이지에서 보여줌



---

#### Response객체 : state, redirect, URLEncoder

-&gt; ex. 게시판에서 글 작성 완료 후, 글 목록으로 이동, 로그인 등등에 사용 가능

```java
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<h1>response 객체</h1>
	<ul>
		<li><a href="a.jsp?state=yes">a.jsp로 이동</a></li>
		<li><a href="a.jsp?state=no">a.jsp로 이동</a></li> 
		<li><a href="b.jsp?state=홍길동">b.jsp로 이동</a></li> 
	</ul>
</body>
</html>
```

```java
<%@page import="java.net.URLEncoder"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<%
	String state = request.getParameter("state");
	System.out.println("state : " + state);
	response.sendRedirect("bb.jsp?state=" + state); // state(홍길동) 그대로 처리 못함 
%>
	<h1>${param.state}</h1>
</body>
</html>
```

URLEncoder에 한글\(홍길동\)직접 못 넣으니까 URLEncoder처리 \(위에는 에러\)

```java
response.sendRedirect("bb.jsp?state=" + URLEncoder.encode(state)); 
```

결과 \(주소창\)

![](/assets/034-2import.png)



